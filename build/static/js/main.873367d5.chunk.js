(this.webpackJsonpgradparty=this.webpackJsonpgradparty||[]).push([[0],{53:function(e,t,n){},55:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),i=n(7),s=n.n(i),o=(n(53),n(21)),l=n.n(o),d=n(33),u=n(22),j=(n(55),n(37)),b=n(43),h=n(81),m=n(87),f=n(83),p=n(84),O=n(85),x=n(86),g=n(88),v=n(2),y=Object(b.a)({palette:{type:"dark"}});!function(e){e[e.ALERT=0]="ALERT",e[e.CONFIRM=1]="CONFIRM"}(r||(r={}));var w,C="alert-dialog",k=function(e){var t=e.message,n=e.title,a=e.type,i=Object(c.useRef)();function s(){var e;null===(e=i.current)||void 0===e||e.remove()}function o(){a===r.CONFIRM&&w(!1),s()}return Object(c.useEffect)((function(){var e=document.getElementById(C);i.current=e}),[]),Object(v.jsx)(h.a,{theme:y,children:Object(v.jsxs)(m.a,{onClose:function(){return o()},open:!0,disablePortal:!0,children:[Object(v.jsx)(f.a,{children:n}),Object(v.jsx)(p.a,{children:Object(v.jsx)(O.a,{children:t})}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(g.a,{color:"secondary",onClick:function(){return a===r.CONFIRM&&w(!0),void s()},children:"OK"}),a===r.CONFIRM&&Object(v.jsx)(g.a,{onClick:function(){return o()},children:"Cancel"})]})]})})};function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.ALERT,c=document.getElementById(C);c||((c=document.createElement("div")).id=C,document.body.appendChild(c)),s.a.render(Object(v.jsx)(k,{message:e,title:t,type:n}),c)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Confirm";return N(e,t,r.CONFIRM),new Promise((function(e){w=e}))}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Alert";N(e,t,r.ALERT)}var E=new j,F=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform?"https://maps.apple.com/?q=":"https://www.google.com/maps?q=",R=new window.Math.seedrandom("samyok");var A=[["#a63238","#ffc0c0"],["#d38773","#ffd0a5"],["#76b488","#bdffa7"],["#4e84d5","#b3e7ff"],["#6b45a1","#d2d6ff"]];function I(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){function e(e){var t=Array.from(document.querySelectorAll(".eventHeader"));t.forEach((function(e){return e.classList.remove("sticky")}));for(var n=0;n<t.length-1&&!(t[n+1].getBoundingClientRect().y>0);)n++;t[n].classList.add("sticky"),t[n+1]&&t[n+1].getBoundingClientRect().y<t[n+1].offsetHeight?t[n].style.top=t[n+1].getBoundingClientRect().y-t[n+1].offsetHeight+"px":t[n].style.top="0px"}fetch("/data").then((function(e){return e.json()})).then((function(e){return r(e)})),document.addEventListener("scroll",e),document.addEventListener("resize",e)}),[]),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h1",{children:"'21 Grad Parties"}),Object(v.jsxs)("p",{children:["Add your graduation party to this list by clicking ",Object(v.jsx)("a",{target:"_blank",href:"/add",children:"here"}),"! \ud83c\udf93\ud83c\udf89"]}),Object(v.jsx)("p",{children:"Everyone's invited to the following open houses! Text me (605-592-6144) if anything needs changing."}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),n.map((function(e,t){for(var n=[];n.length<e.listings.length;){var r=A.length*R()>>0;n.length>0&&n[n.length-1]===r||(console.log(n),n.push(r))}return Object(v.jsxs)("div",{children:[Object(v.jsxs)("h2",{className:"eventHeader",children:["\ud83c\udf8a ",e.name]}),Object(v.jsx)("br",{}),e.listings.map((function(e,t){return Object(v.jsx)(L,{listing:e,colorIndex:n[t]},t+JSON.stringify(e))})),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]},t+JSON.stringify(e))}))]})}function L(e){var t=e.listing,n=e.colorIndex,r=A[n];return Object(v.jsxs)("div",{className:"event row",style:{flexWrap:"nowrap",borderLeft:"3px solid ".concat(r[0]),backgroundColor:r[1]},children:[!!t.image&&Object(v.jsx)("img",{src:t.image,alt:"event avatar",style:{marginRight:10}}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:t.name}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("pre",{style:{paddingRight:20},children:t.timeString}),Object(v.jsx)("p",{children:t.description})]}),Object(v.jsxs)("a",{target:"_blank",href:F+t.address,children:["\ud83d\udccd ",t.address]})]})]})}function P(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(u.a)(a,2),s=i[0],o=i[1];Object(c.useEffect)((function(){navigator.userAgent.toLowerCase().includes("snapchat")&&T("This form doesn't work inside of Snapchat \ud83d\ude2d Click the three dots in the top right and open this website in browser.","Snapchat detected!")}),[]);var j=Object(c.useCallback)(Object(d.a)(l.a.mark((function e(){var t,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e){fetch("/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:n,name:document.querySelector("#eventName").value,day:document.querySelector("#day").value,startTime:document.querySelector("#startTime").value,endTime:document.querySelector("#endTime").value,address:document.querySelector("#address").value,phoneNumber:document.querySelector("#phonenumber").value,image:e})}).then((function(e){return e.json()})).then(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(!1),!t.success){e.next=7;break}return e.next=4,T("Added event successfully!");case 4:window.location.href="/",e.next=9;break;case 7:return e.next=9,T(t.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},o(!0),r=null===(t=document.querySelector("#upload"))||void 0===t?void 0:t.files[0]){e.next=13;break}return e.next=6,S("Are you sure you don't want to submit an image?");case 6:if(!e.sent){e.next=10;break}return e.abrupt("return",c(null));case 10:return o(!1),e.abrupt("return");case 12:case 13:E.compress([r],{maxWidth:300,maxHeight:300,resize:!0}).then((function(e){console.log(e),c(e[0].prefix+e[0].data)}));case 14:case"end":return e.stop()}}),e)}))),[n]);return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h1",{children:"'21 Grad Parties"}),Object(v.jsx)("p",{children:"Add your graduation party to this list by filling out the form below! \ud83c\udf93\ud83c\udf89"}),Object(v.jsxs)("label",{htmlFor:"eventName",children:["Event Name *",Object(v.jsx)("input",{type:"text",placeholder:"Name of event",id:"eventName"})]}),Object(v.jsxs)("label",{htmlFor:"day",children:["Date *",Object(v.jsx)("input",{type:"date",id:"day"})]}),Object(v.jsxs)("label",{htmlFor:"startTime",children:["Start Time *",Object(v.jsx)("input",{type:"time",id:"startTime"})]}),Object(v.jsxs)("label",{htmlFor:"endTime",children:["End Time *",Object(v.jsx)("input",{type:"time",id:"endTime"})]}),Object(v.jsxs)("label",{htmlFor:"description",children:["Description",Object(v.jsx)(q,{limit:250,onChange:function(e){return r(e)}})]}),Object(v.jsxs)("label",{htmlFor:"address",children:["Address (street AND city!) *",Object(v.jsx)("input",{type:"text",id:"address",placeholder:"1600 Pennsylvania Avenue, Washington, D.C."})]}),Object(v.jsxs)("label",{htmlFor:"upload",children:["Upload Image",Object(v.jsx)("input",{type:"file",id:"upload"})]}),Object(v.jsxs)("label",{htmlFor:"phonenumber",children:["Submitter's Contact Phone Number *",Object(v.jsx)("input",{type:"tel",id:"phonenumber"})]}),Object(v.jsx)("button",{onClick:j,disabled:s,children:s?"Loading...":"Post"})]})}var q=function(e){var t=e.rows,n=e.cols,r=e.value,a=void 0===r?"":r,i=e.limit,s=e.onChange,o=void 0===s?function(){}:s,l=Object(c.useState)(a.slice(0,i)),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(c.useCallback)((function(e){b(e.slice(0,i)),o(e.slice(0,i))}),[i,o]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("textarea",{rows:t,cols:n,onChange:function(e){return h(e.target.value)},value:j,placeholder:"up to ".concat(i," characters")}),Object(v.jsxs)("span",{children:[j.length,"/",i]})]})},M=function(){return Object(v.jsxs)(v.Fragment,{children:[window.location.pathname.includes("add")?Object(v.jsx)(P,{}):Object(v.jsx)(I,{}),Object(v.jsxs)("div",{className:"footer",children:["Created by Samyok Nepal | ",Object(v.jsx)("a",{target:"_blank",href:"https://github.com/samyok/gradparty",children:"Github"})]})]})};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(M,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.873367d5.chunk.js.map